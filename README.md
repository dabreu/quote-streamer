# Quote Streamer 
Streamer client for consuming quotes data generated by Ameritrade. 

To find more information about AMT Streaming data, go to the [developer's documentation site]( https://developer.tdameritrade.com/content/streaming-data)

## Requirements

1. TD Ameritrade account, Developer Account, Developer API Key, Consumer ID, redirect URI
2. Python 3.4 or later.

## How to install

1. Clone the repository and got to directory
```
git clone https://github.com/dabreu/quote-streamer.git

cd quote-streamer
```

3. Create the virtual environment and active it
````
python -m venv /path/to/new/virtual/environment

source </path/to/new/virtual/environment>/bin/activate
````
4. Install the requirements
````
pip install -r requirements.txt
````

## How to run

Before running the streamer client, you need to create the *config.ini* file and provide some configuration information. 
For convenience, a template file is provided. 

Create the configuration file based on the provided template

````
cp config.ini.template config.ini

`````
Edit the config.ini file, setting the *MT_CLIENT* section with the corresponding account info

Start the quote's streamer client from command line

````
python amt_streamer.py
````

## Persistence

Persistence to the database is supported in case that it is needed. 

### Requirements

1. MySQL database server. For installation details, check the [MySQL Installation Guide](https://dev.mysql.com/doc/mysql-installation-excerpt/5.7/en/)

2. Create the database, user, grants and table to store the information. The file *init_db.sql* contains the SQLs to do so, but it needs to be edited first, to set the corresponding database user's password 

````
mysql -u root -p < quote_streamer/adapter/sql_data/init_db.sql
````

3. Run the persister while getting the data from the streamer
````
python amt_streamer.py | python amt_persister.py
````
